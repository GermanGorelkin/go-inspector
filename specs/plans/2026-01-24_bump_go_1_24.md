# Task: Bump Go Version to 1.24

**Date:** 2026-01-24  
**Status:** Completed

## Problem Statement

Project currently declares `go 1.20` in `go.mod`, while GitHub Actions tests on Go 1.17.x. We need to bump the minimum supported Go version to 1.24 and make CI/docs consistent.

## Proposed Solution

Update the module Go version to 1.24, update GitHub Actions to use Go 1.24 (preferably sourced from `go.mod`), and update documentation references.

## Detailed Steps

1. [x] Step 1: Update module Go version
   - Files: `go.mod`
   - Changes: `go 1.20` -> `go 1.24`
   - Note: do not add a `toolchain` directive unless we explicitly decide to pin a toolchain.

2. [x] Step 2: Update CI to Go 1.24
   - Files: `.github/workflows/test.yml`
   - Changes:
     - Bump `actions/setup-go` to `@v5`
     - Bump `actions/checkout` to `@v4`
     - Use `go-version-file: go.mod` (preferred) or set `go-version: 1.24.x`
     - Remove the Go version matrix entry if `go-version-file` is used.

3. [x] Step 3: Update docs
   - Files: `AGENTS.md`, `specs/spec.md` (and `README.md` if it mentions Go version)
   - Changes: update all references to Go 1.20/1.17.x to 1.24.

4. [x] Step 4: Verify
   - Commands:
     - `go mod tidy`
     - `go test ./... -v`
     - `go vet ./...`
     - `gofmt -w .`
     - `go build ./...`

## Testing Strategy

- Run `go test ./... -v` on Go 1.24.
- Ensure CI workflow completes on ubuntu/macos/windows.

## Open Questions

1. Should we add `toolchain go1.24.x` to `go.mod` to pin a specific toolchain? (Default recommendation: no.)

## Risks and Edge Cases

- Users on Go < 1.24 will no longer be able to build this module.
- CI may fail until `actions/setup-go` is upgraded (needed for `go-version-file`).

## Rollback Strategy

- Revert changes to `go.mod`, `.github/workflows/test.yml`, and docs; rerun `go test ./...`.
